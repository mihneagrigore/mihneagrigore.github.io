<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>PDF Viewer</title>
</head>
<body>
<h1>PDF Viewer</h1>
<embed id="pdfViewer" src="" type="application/pdf" width="100%" height="600px" />

<script>
  // Function to get query parameter from URL
  function getQueryParam(param) {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get(param);
  }

  // Get the doc parameter
  let docName = getQueryParam('doc');
  
  if (!docName) {
    // fallback or show message
    document.body.innerHTML = "<p>No document specified.</p>";
  } else {
    // Check if the file can be directly opened, else use Google Docs viewer as fallback
    const fileExtension = docName.split('.').pop().toLowerCase();
    
    if (fileExtension === 'pdf') {
      // Direct PDF embedding
      document.getElementById('pdfViewer').src = docName;
    } else {
      // Use Google Docs viewer for other file types
      document.getElementById('pdfViewer').src = `https://docs.google.com/gview?url=${docName}&embedded=true`;
    }
  }
</script>
</body>
</html>
